var FileUpload=function(e,a,t,o,r){var s=new XMLHttpRequest;if("function"==typeof FormData||"object"==typeof FormData){var n=new FormData;n.append("file",o),n.append("upload_loc",r),n.append("table","file_tmp"),n.append("sess_id",userData.sess_id?userData.sess_id:""),s.open("post",a,!0),s.upload.addEventListener("progress",function(a){a.lengthComputable&&e.uploadProgress(a.loaded,a.total,t)},!1),s.addEventListener("load",function(e){p(e.target,t)}),s.send(n)}else alert("not support browser");var p=function(a,t){if(4==a.readyState)switch(a.status){case 200:"Invalid file type."!==a.responseText?e.uploadComplete(a.responseText,t):e.uploadError(a.responseText,t);break;case 404:e.uploadError("404 - File not fount",t);break;case 403:e.uploadError("403 - Forbidden file type",t);break;default:e.uploadError("Unknown Error",t)}}};