var FileUpload=function(e,a,o,t,r){var n=new XMLHttpRequest;if("function"==typeof FormData||"object"==typeof FormData){var p=new FormData;p.append("file",t),p.append("upload_loc",r),p.append("table","file_tmp"),p.append("sess_id",userData.sess_id),n.open("post",a,!0),n.upload.addEventListener("progress",function(a){a.lengthComputable&&e.uploadProgress(a.loaded,a.total,o)},!1),n.addEventListener("load",function(e){s(e.target,o)}),n.send(p)}else alert("not support browser");var s=function(a,o){if(4==a.readyState)switch(a.status){case 200:"Invalid file type."!==a.responseText?e.uploadComplete(a.responseText,o):e.uploadError(a.responseText,o);break;case 404:e.uploadError("404 - File not fount",o);break;case 403:e.uploadError("403 - Forbidden file type",o);break;default:e.uploadError("Unknown Error",o)}}};